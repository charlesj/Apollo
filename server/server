#!/bin/bash
set -e

PROJECT_DIR=$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )
APOLLO_EXE=$PROJECT_DIR/Apollo/bin/Release/Apollo.exe

# database configuration
APOLLO_DATABASENAME='apollo_db'
APOLLO_DATABASESERVER='127.0.0.1'
APOLLO_DATABASEUSERNAME='apollo_pg'
APOLLO_DATABASEPASSWORD='apollo_db_password'
APOLLO_LOGINHASH='XsOa/YTsT8nwXpAE5+wQIx7WPkDjiY3DNeZS+kNcWKMYsitrXKS3sgs9IpCjAKVUyqQtv0969ZsAMuQaTSDrpffHfhW1ag/eX3WaoykSdADgtvnwrwLx7EvmGdpuOFnSEph5AmsrYzip426BqDHOBKCI+VnzmSRZDv202bfgSna4RNuc9bCC1DiNOCKPPTlIshM6bB1UrFdV31y0VAbidD/WRS3a6+T0ibZzwOu7OZDatCMGArIvHDgNvwqcyIkz'

if [ ! -f "$APOLLO_EXE" ]; then
    ./build
fi

export APOLLO_DATABASENAME
export APOLLO_DATABASESERVER
export APOLLO_DATABASEUSERNAME
export APOLLO_DATABASEPASSWORD
export APOLLO_LOGINHASH

mono "$APOLLO_EXE"
